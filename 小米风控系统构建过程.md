## 小米风控系统构建过程梳理
2014年：    
针对“米币短信充值”主要使用两类规则：   
> ①由三个部分【标识（设备、账号、手机号）、范围（时间周期、业务、渠道）、方法（限额、限次、限频）】组成的规则，例如：一个帐户一天之内他的消费金额上限是 100 米币；    
	②限制标识属性之间的关系，主要是账户与设备的关系，同一账号N个设备、同一设备对应N个账号
>
2014年底：   
针对信贷的小米信用评分主要使用模型（商业模型）：    
>	三个维度建立模型：还款能力、依赖性、正常度
>	
2015年：    
建立基于drools的风控系统：    
>	风控系统由三部分组成：普通规则、CEP 规则和管理后台。CEP 规则引擎和普通规则引擎区别是它是一种状态，能够缓存数据。    
	优点：   
	①使用CEP规则引擎与普通规则引擎结合后，大大提升了开发、运营效率；    
	②业务同样可以调整规则（规则调整具有了菜单式操作）。    
	缺点：   
	由于规则容易调整了，规则上线没有经过严格的测试，没有观察由规则调整后带来的效果。    
	针对缺点的改进：    
	搭建了灰度风控系统，每次新规则上线时，先进入灰度系统利用历史订单验证规则效果，验证效果良好后，方正式上线。（同盾采用的是上线规则，但赋予0分，通过实时数据观察规则效果）    
	如何利用风控系统：   
	通过风控打点，应用系统要主动调用风控，所以风控在业务系统中需要打点。两个打点：①交易前创建订单之前进行第一次调用；②订单完成之后，再调用；   
>
升级优化风控系统（主要是提升运行效率，风控系统的响应时间不宜过长，否则影响业务）：   
>	①替换CEP系统（专门存放数据的缓存），建立一个数据累计服务搜索；对于非实时性其他数据，我们采用日志方式，离线去进行分析。实则就是将数据和计算分离；    
	②可视化监控规则运行效果、监控每天的拦截率   
>
升级制定规则方式：   
>	使用机器学习，其使用机器学习的具体方法为：通过机器学习建立模型，将模型学到的东西做成一个独立的服务或者合到一个服务里面，并把一些参数背景告诉这个服务，这个服务判断或者是有多少的概率是危险。最终由规则来决定。
>	
建立关联图谱（复杂网络）：   
>	利用交易数据里面用户、设备、手机之间关联关系建立一个关联图。从案例库中导入相关的坏人的用户和设备，找到有关系的设备和用户，找到之后，在检查这些设备帐户交易特征。如果发现是坏人就把它加入到黑名单。
